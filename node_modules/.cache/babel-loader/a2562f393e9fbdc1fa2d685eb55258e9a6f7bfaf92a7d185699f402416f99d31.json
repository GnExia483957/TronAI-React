{"ast":null,"code":"import React,{useState,useEffect}from'react';import'../styles/AI-styles.css';import LoadingAnimation from'../components/LoadingAnimation/LoadingAnimation';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AI=()=>{const[inputValue,setInputValue]=useState('');const[loading,setLoading]=useState(false);const[output,setOutput]=useState('');const[results,setResults]=useState([]);useEffect(()=>{// Load input value from localStorage on component mount\nconst savedInputValue=localStorage.getItem('userInput');if(savedInputValue&&savedInputValue.trim()!==''){setInputValue(savedInputValue);getValue(savedInputValue);}},[]);const toggleLoading=()=>{setLoading(prev=>!prev);};const clearDivs=()=>{setOutput('');// Clear the output\nsetResults([]);// Clear the results\n};const getValue=value=>{if(value.trim()!==\"\"){clearDivs();aiSearch(value);}else{errorInput();}};const errorInput=()=>{console.log(\"There is no input\");toggleLoading();};const aiSearch=query=>{toggleLoading();let encodedQuery=encodeURI(query);fetch('https://tronai.io/v1/g_query?query='+encodedQuery,{method:'POST',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify({})}).then(response=>{if(!response.ok){throw new Error('Network response was not ok '+response.statusText);}return response.json();}).then(data=>{toggleLoading();typeText(data.data.answer);appendSearchResults(data.data);}).catch(error=>{console.error('Error:',error);});};const typeText=text=>{const words=text.split(' ');let index=-1;const interval=50;// Adjust the typing speed (in milliseconds)\nconst typeWord=()=>{if(index<words.length-1){setOutput(prev=>prev+(prev?' ':'')+words[index]);index++;setTimeout(typeWord,interval);}};typeWord();};const appendSearchResults=data=>{const newResults=data.pages.map(page=>({link:page.link,title:page.title,snippet:page.snippet}));setResults(newResults);};const handleInputChange=e=>{setInputValue(e.target.value);localStorage.setItem('inputValue',e.target.value);};const handleKeyDown=event=>{if(event.key==='Enter'){getValue(inputValue);}};const handleButtonClick=()=>{getValue(inputValue);};return/*#__PURE__*/_jsxs(\"div\",{className:\"AI-outer-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inner-search\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon-container\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"16\",height:\"16\",fill:\"#FF0000\",className:\"bi bi-search\",viewBox:\"0 0 16 16\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M11.742 10.344a6.5 6.5 0 1 0-1.394 1.394l3.75 3.75a1 1 0 0 0 1.415-1.415l-3.75-3.75zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"})})}),/*#__PURE__*/_jsx(\"input\",{id:\"myInput\",type:\"text\",placeholder:\"Ask TronAI\",value:inputValue,spellCheck:\"false\",onChange:handleInputChange,onKeyDown:handleKeyDown}),/*#__PURE__*/_jsx(\"button\",{onClick:handleButtonClick,id:\"toggleBtn\",children:\"AI Analyze\"})]})}),loading&&/*#__PURE__*/_jsx(LoadingAnimation,{}),!loading&&/*#__PURE__*/// Only render these divs when not loading\n_jsxs(\"div\",{className:\"output\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"AI-Container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"ai-header\",children:\"Generated Answer\"}),/*#__PURE__*/_jsx(\"div\",{id:\"ai-text\",children:output})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"result-container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"reference-header\",children:\"Reference Documentation\"}),results.map((result,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"AI-Search-Results\",children:/*#__PURE__*/_jsxs(\"a\",{id:\"search-link\",href:result.link,target:\"_blank\",rel:\"noopener noreferrer\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"results-link\",children:result.link}),/*#__PURE__*/_jsx(\"div\",{id:\"results-header\",children:result.title}),/*#__PURE__*/_jsx(\"div\",{id:\"results-description\",children:result.snippet})]})},index))]})]})]});};export default AI;","map":{"version":3,"names":["React","useState","useEffect","LoadingAnimation","jsx","_jsx","jsxs","_jsxs","AI","inputValue","setInputValue","loading","setLoading","output","setOutput","results","setResults","savedInputValue","localStorage","getItem","trim","getValue","toggleLoading","prev","clearDivs","value","aiSearch","errorInput","console","log","query","encodedQuery","encodeURI","fetch","method","headers","body","JSON","stringify","then","response","ok","Error","statusText","json","data","typeText","answer","appendSearchResults","catch","error","text","words","split","index","interval","typeWord","length","setTimeout","newResults","pages","map","page","link","title","snippet","handleInputChange","e","target","setItem","handleKeyDown","event","key","handleButtonClick","className","children","xmlns","width","height","fill","viewBox","d","id","type","placeholder","spellCheck","onChange","onKeyDown","onClick","result","href","rel"],"sources":["/Users/ngaigarricktrondao/Desktop/Tron-Net/TronAI-React/src/Pages/AI.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../styles/AI-styles.css';\nimport LoadingAnimation from '../components/LoadingAnimation/LoadingAnimation';\n\nconst AI = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [output, setOutput] = useState('');\n  const [results, setResults] = useState([]);\n\n  useEffect(() => {\n    // Load input value from localStorage on component mount\n    const savedInputValue = localStorage.getItem('userInput');\n    if (savedInputValue && savedInputValue.trim() !== '') {\n      setInputValue(savedInputValue);\n      getValue(savedInputValue);\n    }\n  }, []);\n\n  const toggleLoading = () => {\n    setLoading((prev) => !prev);\n  };\n\n  const clearDivs = () => {\n    setOutput('');      // Clear the output\n    setResults([]);     // Clear the results\n  };\n\n  const getValue = (value) => {\n    if (value.trim() !== \"\") {\n      clearDivs();\n      aiSearch(value);\n    } else {\n      errorInput();\n    }\n  };\n\n  const errorInput = () => {\n    console.log(\"There is no input\");\n    toggleLoading();\n  };\n\n  const aiSearch = (query) => {\n    toggleLoading();\n    let encodedQuery = encodeURI(query);\n    fetch('https://tronai.io/v1/g_query?query=' + encodedQuery, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({})\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok ' + response.statusText);\n        }\n        return response.json();\n      })\n      .then(data => {\n        toggleLoading();\n        typeText(data.data.answer);\n        appendSearchResults(data.data);\n      })\n      .catch(error => {\n        console.error('Error:', error);\n      });\n  };\n\n  const typeText = (text) => {\n    const words = text.split(' ');\n    let index = -1;\n    const interval = 50; // Adjust the typing speed (in milliseconds)\n\n    const typeWord = () => {\n      if (index < words.length-1) {\n        setOutput((prev) => prev + (prev ? ' ' : '') + words[index]);\n        index++;\n        setTimeout(typeWord, interval);\n      }\n    };\n    typeWord();\n  };\n\n  const appendSearchResults = (data) => {\n    const newResults = data.pages.map(page => ({\n      link: page.link,\n      title: page.title,\n      snippet: page.snippet\n    }));\n    \n    setResults(newResults);\n  };\n\n  const handleInputChange = (e) => {\n    setInputValue(e.target.value);\n    localStorage.setItem('inputValue', e.target.value);\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      getValue(inputValue);\n    }\n  };\n\n  const handleButtonClick = () => {\n    getValue(inputValue);\n  };\n\n  return (\n    <div className=\"AI-outer-container\">\n      <div className=\"search-container\">\n        <div className=\"inner-search\">\n          <div className=\"icon-container\">\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"16\" height=\"16\" fill=\"#FF0000\" className=\"bi bi-search\" viewBox=\"0 0 16 16\"\n            >\n              <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.394 1.394l3.75 3.75a1 1 0 0 0 1.415-1.415l-3.75-3.75zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\n            </svg>\n          </div>\n  \n          <input\n            id=\"myInput\"\n            type=\"text\"\n            placeholder=\"Ask TronAI\"\n            value={inputValue}\n            spellCheck=\"false\"\n            onChange={handleInputChange}\n            onKeyDown={handleKeyDown}\n          />\n          <button onClick={handleButtonClick} id=\"toggleBtn\">AI Analyze</button>\n        </div>\n      </div>\n  \n      {loading && (\n        <LoadingAnimation />\n      )}\n  \n      {!loading && ( // Only render these divs when not loading\n        <div className=\"output\">\n          <div className=\"AI-Container\">\n            <div id=\"ai-header\">Generated Answer</div>\n            <div id=\"ai-text\">{output}</div>\n          </div>\n          <div className=\"result-container\">\n            <div id=\"reference-header\">Reference Documentation</div>\n            {results.map((result, index) => (\n              <div key={index} className=\"AI-Search-Results\">\n                <a id=\"search-link\" href={result.link} target=\"_blank\" rel=\"noopener noreferrer\">\n                  <div id=\"results-link\">{result.link}</div>\n                  <div id=\"results-header\">{result.title}</div>\n                  <div id=\"results-description\">{result.snippet}</div>\n                </a>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AI;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,yBAAyB,CAChC,MAAO,CAAAC,gBAAgB,KAAM,iDAAiD,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/E,KAAM,CAAAC,EAAE,CAAGA,CAAA,GAAM,CACf,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACY,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAE1CC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAe,eAAe,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACzD,GAAIF,eAAe,EAAIA,eAAe,CAACG,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACpDV,aAAa,CAACO,eAAe,CAAC,CAC9BI,QAAQ,CAACJ,eAAe,CAAC,CAC3B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,aAAa,CAAGA,CAAA,GAAM,CAC1BV,UAAU,CAAEW,IAAI,EAAK,CAACA,IAAI,CAAC,CAC7B,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtBV,SAAS,CAAC,EAAE,CAAC,CAAO;AACpBE,UAAU,CAAC,EAAE,CAAC,CAAM;AACtB,CAAC,CAED,KAAM,CAAAK,QAAQ,CAAII,KAAK,EAAK,CAC1B,GAAIA,KAAK,CAACL,IAAI,CAAC,CAAC,GAAK,EAAE,CAAE,CACvBI,SAAS,CAAC,CAAC,CACXE,QAAQ,CAACD,KAAK,CAAC,CACjB,CAAC,IAAM,CACLE,UAAU,CAAC,CAAC,CACd,CACF,CAAC,CAED,KAAM,CAAAA,UAAU,CAAGA,CAAA,GAAM,CACvBC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC,CAChCP,aAAa,CAAC,CAAC,CACjB,CAAC,CAED,KAAM,CAAAI,QAAQ,CAAII,KAAK,EAAK,CAC1BR,aAAa,CAAC,CAAC,CACf,GAAI,CAAAS,YAAY,CAAGC,SAAS,CAACF,KAAK,CAAC,CACnCG,KAAK,CAAC,qCAAqC,CAAGF,YAAY,CAAE,CAC1DG,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,QAAQ,CAAE,kBAAkB,CAC5B,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC,CACzB,CAAC,CAAC,CACCC,IAAI,CAACC,QAAQ,EAAI,CAChB,GAAI,CAACA,QAAQ,CAACC,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,8BAA8B,CAAGF,QAAQ,CAACG,UAAU,CAAC,CACvE,CACA,MAAO,CAAAH,QAAQ,CAACI,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDL,IAAI,CAACM,IAAI,EAAI,CACZvB,aAAa,CAAC,CAAC,CACfwB,QAAQ,CAACD,IAAI,CAACA,IAAI,CAACE,MAAM,CAAC,CAC1BC,mBAAmB,CAACH,IAAI,CAACA,IAAI,CAAC,CAChC,CAAC,CAAC,CACDI,KAAK,CAACC,KAAK,EAAI,CACdtB,OAAO,CAACsB,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CAAC,CAAC,CACN,CAAC,CAED,KAAM,CAAAJ,QAAQ,CAAIK,IAAI,EAAK,CACzB,KAAM,CAAAC,KAAK,CAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC,CAC7B,GAAI,CAAAC,KAAK,CAAG,CAAC,CAAC,CACd,KAAM,CAAAC,QAAQ,CAAG,EAAE,CAAE;AAErB,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,GAAIF,KAAK,CAAGF,KAAK,CAACK,MAAM,CAAC,CAAC,CAAE,CAC1B3C,SAAS,CAAES,IAAI,EAAKA,IAAI,EAAIA,IAAI,CAAG,GAAG,CAAG,EAAE,CAAC,CAAG6B,KAAK,CAACE,KAAK,CAAC,CAAC,CAC5DA,KAAK,EAAE,CACPI,UAAU,CAACF,QAAQ,CAAED,QAAQ,CAAC,CAChC,CACF,CAAC,CACDC,QAAQ,CAAC,CAAC,CACZ,CAAC,CAED,KAAM,CAAAR,mBAAmB,CAAIH,IAAI,EAAK,CACpC,KAAM,CAAAc,UAAU,CAAGd,IAAI,CAACe,KAAK,CAACC,GAAG,CAACC,IAAI,GAAK,CACzCC,IAAI,CAAED,IAAI,CAACC,IAAI,CACfC,KAAK,CAAEF,IAAI,CAACE,KAAK,CACjBC,OAAO,CAAEH,IAAI,CAACG,OAChB,CAAC,CAAC,CAAC,CAEHjD,UAAU,CAAC2C,UAAU,CAAC,CACxB,CAAC,CAED,KAAM,CAAAO,iBAAiB,CAAIC,CAAC,EAAK,CAC/BzD,aAAa,CAACyD,CAAC,CAACC,MAAM,CAAC3C,KAAK,CAAC,CAC7BP,YAAY,CAACmD,OAAO,CAAC,YAAY,CAAEF,CAAC,CAACC,MAAM,CAAC3C,KAAK,CAAC,CACpD,CAAC,CAED,KAAM,CAAA6C,aAAa,CAAIC,KAAK,EAAK,CAC/B,GAAIA,KAAK,CAACC,GAAG,GAAK,OAAO,CAAE,CACzBnD,QAAQ,CAACZ,UAAU,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAAgE,iBAAiB,CAAGA,CAAA,GAAM,CAC9BpD,QAAQ,CAACZ,UAAU,CAAC,CACtB,CAAC,CAED,mBACEF,KAAA,QAAKmE,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCtE,IAAA,QAAKqE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BpE,KAAA,QAAKmE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtE,IAAA,QAAKqE,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC7BtE,IAAA,QACEuE,KAAK,CAAC,4BAA4B,CAClCC,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACC,IAAI,CAAC,SAAS,CAACL,SAAS,CAAC,cAAc,CAACM,OAAO,CAAC,WAAW,CAAAL,QAAA,cAElFtE,IAAA,SAAM4E,CAAC,CAAC,oIAAoI,CAAE,CAAC,CAC5I,CAAC,CACH,CAAC,cAEN5E,IAAA,UACE6E,EAAE,CAAC,SAAS,CACZC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,YAAY,CACxB3D,KAAK,CAAEhB,UAAW,CAClB4E,UAAU,CAAC,OAAO,CAClBC,QAAQ,CAAEpB,iBAAkB,CAC5BqB,SAAS,CAAEjB,aAAc,CAC1B,CAAC,cACFjE,IAAA,WAAQmF,OAAO,CAAEf,iBAAkB,CAACS,EAAE,CAAC,WAAW,CAAAP,QAAA,CAAC,YAAU,CAAQ,CAAC,EACnE,CAAC,CACH,CAAC,CAELhE,OAAO,eACNN,IAAA,CAACF,gBAAgB,GAAE,CACpB,CAEA,CAACQ,OAAO,eAAM;AACbJ,KAAA,QAAKmE,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBpE,KAAA,QAAKmE,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BtE,IAAA,QAAK6E,EAAE,CAAC,WAAW,CAAAP,QAAA,CAAC,kBAAgB,CAAK,CAAC,cAC1CtE,IAAA,QAAK6E,EAAE,CAAC,SAAS,CAAAP,QAAA,CAAE9D,MAAM,CAAM,CAAC,EAC7B,CAAC,cACNN,KAAA,QAAKmE,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BtE,IAAA,QAAK6E,EAAE,CAAC,kBAAkB,CAAAP,QAAA,CAAC,yBAAuB,CAAK,CAAC,CACvD5D,OAAO,CAAC8C,GAAG,CAAC,CAAC4B,MAAM,CAAEnC,KAAK,gBACzBjD,IAAA,QAAiBqE,SAAS,CAAC,mBAAmB,CAAAC,QAAA,cAC5CpE,KAAA,MAAG2E,EAAE,CAAC,aAAa,CAACQ,IAAI,CAAED,MAAM,CAAC1B,IAAK,CAACK,MAAM,CAAC,QAAQ,CAACuB,GAAG,CAAC,qBAAqB,CAAAhB,QAAA,eAC9EtE,IAAA,QAAK6E,EAAE,CAAC,cAAc,CAAAP,QAAA,CAAEc,MAAM,CAAC1B,IAAI,CAAM,CAAC,cAC1C1D,IAAA,QAAK6E,EAAE,CAAC,gBAAgB,CAAAP,QAAA,CAAEc,MAAM,CAACzB,KAAK,CAAM,CAAC,cAC7C3D,IAAA,QAAK6E,EAAE,CAAC,qBAAqB,CAAAP,QAAA,CAAEc,MAAM,CAACxB,OAAO,CAAM,CAAC,EACnD,CAAC,EALIX,KAML,CACN,CAAC,EACC,CAAC,EACH,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9C,EAAE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}